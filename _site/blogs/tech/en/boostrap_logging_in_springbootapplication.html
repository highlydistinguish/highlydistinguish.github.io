<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.24.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <!-- CSS only -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-uWxY/CJNBR+1zjPWmfnSnVxwRheevXITnMqoEIeG1LJrdI0GlVs/9cVSyPYXdcSF" crossorigin="anonymous">

<!--google fonts-->
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>How logging system Bootstrapped in Spring Boot Application - Highly Distinguish</title>
<meta name="description" content="Summary Following diagram demonstrated the process to bootstrap and use Logback for loggings in Spring Boot applciation.">



<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Highly Distinguish">
<meta property="og:title" content="How logging system Bootstrapped in Spring Boot Application">
<meta property="og:url" content="http://localhost:4000/blogs/tech/en/boostrap_logging_in_springbootapplication">


  <meta property="og:description" content="Summary Following diagram demonstrated the process to bootstrap and use Logback for loggings in Spring Boot applciation.">



  <meta property="og:image" content="http://localhost:4000/assets/images/hd_bootstrap_logging_springboot.png">





  <meta property="article:published_time" content="2021-12-21T00:00:00+11:00">






<link rel="canonical" href="http://localhost:4000/blogs/tech/en/boostrap_logging_in_springbootapplication">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": null,
      "url": "http://localhost:4000/"
    
  }
</script>







<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Highly Distinguish Feed">


<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css"></noscript>
<link rel="stylesheet" href="/assets/css/blog.css">


    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single">


    <div class="initial-content">
      
  







<div class="page__hero"
  style=" background-image: url('');"
>
  
    <img src="/assets/images/hd_bootstrap_logging_springboot.png" alt="How logging system Bootstrapped in Spring Boot Application" class="page__hero-image">
  
  
</div>





<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person" class="h-card">

  

  <div class="author__content">
    <h3 class="author__name p-name" itemprop="name">
      <a class="u-url" rel="me" href="http://localhost:4000/" itemprop="url"></a>
    </h3>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer me">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>
  
  </div>



  <article class="page h-entry" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="How logging system Bootstrapped in Spring Boot Application">
    <meta itemprop="description" content="SummaryFollowing diagram demonstrated the process to bootstrap and use Logback for loggings in Spring Boot applciation.">
    <meta itemprop="datePublished" content="2021-12-21T00:00:00+11:00">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title p-name" itemprop="headline">
            <a href="http://localhost:4000/blogs/tech/en/boostrap_logging_in_springbootapplication" class="u-url" itemprop="url">How logging system Bootstrapped in Spring Boot Application
</a>
          </h1>
          


        </header>
      

      <section class="page__content e-content" itemprop="text">
        
        <h1 id="summary">Summary</h1>
<p>Following diagram demonstrated the process to bootstrap and use Logback for loggings in Spring Boot applciation.</p>

<h1 id="video-version-of-this-explanation">Video version of this explanation</h1>
<p>If you’d perfer a more intuitive and vision version, check it out below.</p>

<iframe width="560" height="315" src="https://www.youtube.com/embed/Q6GY8rLnyBc" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen=""></iframe>

<h1 id="workflow-diagram">Workflow diagram</h1>

<p><img src="/assets/images/BootstrapLoggingInSpringBoot.png" alt="" /></p>

<h1 id="key-steps-explained">Key steps explained</h1>
<blockquote>
  <p>The first section for logic in SpringBoot Application domain</p>
</blockquote>

<ol>
  <li>When a SpringBoot application start to execute SpringApplicaiton.run , internally it will execute <code class="language-plaintext highlighter-rouge">prepareEnvironment</code> , which will create or load application run environment , such as environment variables.</li>
  <li>SpringBoot use Observer Pattern and  SpringApplicationEvent to keep tack of each key steps in Spring Boot Application life cycle.  SpringBoot will pass loaded environments as argument to list of registered listeners.</li>
</ol>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">listeners</span><span class="o">.</span><span class="na">environmentPrepared</span><span class="o">(</span><span class="n">bootstrapContext</span><span class="o">,</span> <span class="n">environment</span><span class="o">);</span>
</code></pre></div></div>
<ol>
  <li>SpringBoot’s Event publisher (EventPublishingRunListener) will publish an event called <strong>ApplicationEnvironmentPreparedEvent</strong> via it’s built-in multicast publisher.</li>
  <li><strong>LoggingApplicationListener</strong> is one of 6 components in Spring subscribed to ApplicationEnvironmentPreparedEvent. It will configure Spring’s LoggingSystem. If the environment contains a logging.config property, it will be used to bootstrap the logging system, otherwise a default configuration is used.</li>
  <li>SpringBoot will leverage Classloader to try to load any LoggingSystem or its descendants.</li>
  <li>If you added sl4j into class path, LoggingSystemFactory will produce a new LogbackLoggingSystem, which extended LoggingSystem ultimately.</li>
</ol>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">return</span> <span class="k">new</span> <span class="nc">LogbackLoggingSystem</span><span class="o">(</span><span class="n">classLoader</span><span class="o">);</span>
</code></pre></div></div>
<blockquote>
  <p>Now we move to domain of logging system in slf4j &amp; logback.</p>
</blockquote>

<ol>
  <li>LogbackLoggingSystem will invoke doConfig  of SpringBootJoranConfigurator to setup logging sub system. This Configurator is backbone of Joran framework.</li>
</ol>

<blockquote>
  <p>Joran: a mature, flexible and powerful configuration framework. On which logback’s configuration logic is based. Details check it out at Joran Configuration framework</p>
</blockquote>

<ol>
  <li><strong>Interpreter</strong> will parse configuration details in logback.xml , internally logback would convert elements of aforesaid xml file as a list of Event , then Interpreter has one EventPlayer to process those events one by one.e</li>
  <li><strong>Interpreter</strong> is Joran’s main driving class. It extends SAX DefaultHandler which invokes various actions according to predefined patterns (configured as RuleStore ). It leverage Constructor to start a new instance of LogstashEncoder in memory.</li>
  <li><strong>Joran</strong> defines StartEvent  and EndEvent  to process beginning and ending element in XML configuration. For &lt;/encoder&gt; , Joran will use reflection to call property setter of ConsolerAppender, and inject aforesaid logstashEncoder as property encoder .</li>
  <li>This is the last step of this setup. When there are logs to be wrote, the log Appender’s internal encoder  (that’s LogstashEncoder in this case) will be invoked to render output message.</li>
</ol>

<p>–End–</p>


        
      </section>

      <footer class="page__meta">
        
        


        

  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time class="dt-published" datetime="2021-12-21T00:00:00+11:00">December 21, 2021</time></p>

      </footer>

      <section class="page__share">
  

  <a href="https://twitter.com/intent/tweet?text=How+logging+system+Bootstrapped+in+Spring+Boot+Application%20http%3A%2F%2Flocalhost%3A4000%2Fblogs%2Ftech%2Fen%2Fboostrap_logging_in_springbootapplication" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Flocalhost%3A4000%2Fblogs%2Ftech%2Fen%2Fboostrap_logging_in_springbootapplication" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=http%3A%2F%2Flocalhost%3A4000%2Fblogs%2Ftech%2Fen%2Fboostrap_logging_in_springbootapplication" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      
  <nav class="pagination">
    
      <a href="/blogs/tech/en/sqlserver_driver_not_configured_integrated_authenciation" class="pagination--pager" title="SQLServer Error about This driver is not configured for integrated authentication
">Previous</a>
    
    
      <a href="#" class="pagination--pager disabled">Next</a>
    
  </nav>

    </div>

    
  </article>

  
  
    <div class="page__related">
      <h2 class="page__related-title">You May Also Enjoy</h2>
      <div class="grid__wrapper">
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src="/assets/images/HighlyDistinguishLogo-stamp.png" alt="">
      </div>
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/blogs/tech/en/sqlserver_driver_not_configured_integrated_authenciation" rel="permalink">SQLServer Error about This driver is not configured for integrated authentication
</a>
      
    </h2>
    


    <p class="archive__item-excerpt" itemprop="description">Symptoms
When you are using integrated authentication (Kerberos connection) for MS SqlServer connection, there is one possible error :

</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src="/assets/images/HighlyDistinguishLogo-stamp.png" alt="">
      </div>
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/blogs/tech/en/save_resources_to_files" rel="permalink">How to copy files from resources folder in jar and save to a file
</a>
      
    </h2>
    


    <p class="archive__item-excerpt" itemprop="description">Why to extract resources from jar to local disk

</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src="/assets/images/HighlyDistinguishLogo-stamp.png" alt="">
      </div>
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/blogs/tech/en/debug_not_hit_intelliJ" rel="permalink">Debug of SpringBoot run not working in IntelliJ
</a>
      
    </h2>
    


    <p class="archive__item-excerpt" itemprop="description">Normal approach to debug maven

</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src="/assets/images/HighlyDistinguishLogo-stamp.png" alt="">
      </div>
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/tech/2021/11/01/How-to-watch-kubenetes-deployment-by-label-selector.html" rel="permalink">How to watch specific kubenetes deployment by labels
</a>
      
    </h2>
    


    <p class="archive__item-excerpt" itemprop="description">How to watch specific kubenetes deployment by labels

</p>
  </article>
</div>

        
      </div>
    </div>
  
  
</div>
    </div>

    
      <div class="search-content">
      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>










  </body>
</html>
